# Real-Time Applications with Socket.io

In this lesson, we will explore how to build real-time applications using Socket.io. Socket.io is a JavaScript library that enables real-time, bidirectional communication between the client and the server.

## Overview of Socket.io

Socket.io provides a simple and powerful API for building real-time applications. It works on top of the WebSocket protocol and falls back to other techniques like long polling for older browsers.

To get started with Socket.io, you need to set up a server and a client. The server-side code runs on Node.js, while the client-side code can be written in JavaScript or any other language that supports WebSocket.

## Setting up a real-time server

To set up a real-time server with Socket.io, follow these steps:

1. Install Socket.io using npm:

   ```bash
   npm install socket.io
   ```

2. Import the Socket.io module in your server code:

   ```javascript
   const io = require('socket.io')(server);
   ```

   Here, `server` is the HTTP server instance created using the `http` module.

3. Handle client connections and events:

   ```javascript
   io.on('connection', (socket) => {
     console.log('A client connected');

     socket.on('message', (data) => {
       console.log('Received message:', data);
       // Handle the message
     });

     socket.on('disconnect', () => {
       console.log('A client disconnected');
     });
   });
   ```

   The `connection` event is triggered whenever a client connects to the server. You can listen for other custom events and handle them as needed.

4. Set up the client-side code:

   ```html
   <script src="/socket.io/socket.io.js"></script>
   <script>
     const socket = io();

     socket.on('connect', () => {
       console.log('Connected to the server');
     });

     socket.on('disconnect', () => {
       console.log('Disconnected from the server');
     });

     socket.emit('message', 'Hello, server!');
   </script>
   ```

   The client-side code connects to the server and listens for the `connect` and `disconnect` events. It can also emit custom events to the server.

## Practical example: Create a chat application

Let's create a simple chat application using Socket.io. The server will broadcast messages to all connected clients, and each client can send messages to the server.

Here's the server-side code:

```javascript
const io = require('socket.io')(server);

io.on('connection', (socket) => {
  console.log('A client connected');

  socket.on('message', (data) => {
    console.log('Received message:', data);
    io.emit('message', data); // Broadcast the message to all clients
  });

  socket.on('disconnect', () => {
    console.log('A client disconnected');
  });
});
```

And here's the client-side code:

```html
<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();

  socket.on('connect', () => {
    console.log('Connected to the server');
  });

  socket.on('disconnect', () => {
    console.log('Disconnected from the server');
  });

  socket.on('message', (data) => {
    console.log('Received message:', data);
    // Display the message in the chat interface
  });

  function sendMessage(message) {
    socket.emit('message', message);
  }
</script>
```

With this code, multiple clients can connect to the server and exchange messages in real-time.

## Exercise: Add user authentication

Extend the chat application to include user authentication. When a client connects to the server, prompt the user to enter their name. Store the user's name in the server and include it in the messages sent to other clients.

```

Please let me know if you need anything else.